"use strict";(self.webpackChunkshaozongfan_website=self.webpackChunkshaozongfan_website||[]).push([[6704],{3905:function(e,n,r){r.d(n,{Zo:function(){return f},kt:function(){return d}});var t=r(67294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=t.createContext({}),s=function(e){var n=t.useContext(i),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},f=function(e){var n=s(e.components);return t.createElement(i.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,l=e.originalType,i=e.parentName,f=c(e,["components","mdxType","originalType","parentName"]),u=s(r),d=o,m=u["".concat(i,".").concat(d)]||u[d]||p[d]||l;return r?t.createElement(m,a(a({ref:n},f),{},{components:r})):t.createElement(m,a({ref:n},f))}));function d(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=r.length,a=new Array(l);a[0]=u;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var s=2;s<l;s++)a[s]=r[s];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},73135:function(e,n,r){r.r(n),r.d(n,{assets:function(){return f},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return p}});var t=r(87462),o=r(63366),l=(r(67294),r(3905)),a=["components"],c={},i=void 0,s={permalink:"/blog/\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/rzg\u90e8\u7f72kdump",editUrl:"https://github.com/shaozongfan/shaozongfan.github.io/blog/\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/rzg\u90e8\u7f72kdump.md",source:"@site/blog/\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/rzg\u90e8\u7f72kdump.md",title:"\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/rzg\u90e8\u7f72kdump",description:"busybox\u652f\u6301kdump",date:"2025-09-15T14:44:16.689Z",formattedDate:"2025\u5e749\u670815\u65e5",tags:[],readingTime:6.785,truncated:!1,authors:[],frontMatter:{},prevItem:{title:"\u6280\u672f\u535a\u5ba2/\u7f51\u7edc/\u7f51\u7edc\u95ee\u9898",permalink:"/blog/\u6280\u672f\u535a\u5ba2/\u7f51\u7edc/\u7f51\u7edc\u95ee\u9898"},nextItem:{title:"\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/linux\u8bbe\u5907\u9a71\u52a8\u5f00\u53d1\u8be6\u89e3/10.4\u3000\u4e2d\u65ad\u5171\u4eab",permalink:"/blog/\u6280\u672f\u535a\u5ba2/\u5d4c\u5165\u5f0f/linux\u8bbe\u5907\u9a71\u52a8\u5f00\u53d1\u8be6\u89e3/10.4\u3000\u4e2d\u65ad\u5171\u4eab"}},f={authorsImageUrls:[]},p=[],u={toc:p};function d(e){var n=e.components,r=(0,o.Z)(e,a);return(0,l.kt)("wrapper",(0,t.Z)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"busybox\u652f\u6301kdump"),(0,l.kt)("p",null,"\u4e00\u3001\u5185\u6838\u9009\u9879\u652f\u6301"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"CONFIG_KEXEC=y\nCONFIG_KEXEC_CORE=y\nCONFIG_SYSFS=y\nCONFIG_DEBUG_INFO=Y\nCONFIG_CRASH_DUMP=y\nCONFIG_PROC_VMCORE=y\nCONFIG_PROC_KCORE=y\nCONFIG_PROC_VMCORE=y\n")),(0,l.kt)("h1",{id:"config_cma-is-not-set--\u5fc5\u9009"},"CONFIG_CMA is not set  //\u5fc5\u9009"),(0,l.kt)("p",null,"\u7136\u540e\u7f16\u8bd1\u6210\u65b0\u7684\u5185\u6838\u548c\u8bbe\u5907\u6811\u3002"),(0,l.kt)("p",null,"\u4e8c\u3001\u5e94\u7528\u7a0b\u5e8f\u79fb\u690dkdump\u548ckexec\n\u9700\u8981\u5c06kexec\u3001vmcore-dmesg\u3001makedumpfile\u4e09\u4e2a\u5de5\u5177\u548c\u4f9d\u8d56\u5e93\u79fb\u690d\u5230\u5f00\u53d1\u677f\u5361\u4e0a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ldd /usr/bin/kexec\n    linux-vdso.so.1 (0x0000007f87fd3000)\n    libz.so.1 => /lib/aarch64-linux-gnu/libz.so.1 (0x0000007f87f1e000)\n    libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f87dab000)\n    /lib/ld-linux-aarch64.so.1 (0x0000007f87fa3000)\n\nldd /usr/sbin/vmcore-dmesg \n    linux-vdso.so.1 (0x0000007f92820000)\n    libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f9264b000)\n    /lib/ld-linux-aarch64.so.1 (0x0000007f927f0000)\n    \n    \nldd /usr/bin/makedumpfile\n    linux-vdso.so.1 (0x0000007f8f8a4000)\n    libpthread.so.0 => /lib/aarch64-linux-gnu/libpthread.so.0 (0x0000007f8f7bd000)\n    liblzo2.so.2 => /lib/aarch64-linux-gnu/liblzo2.so.2 (0x0000007f8f78f000)\n    libdw.so.1 => /lib/aarch64-linux-gnu/libdw.so.1 (0x0000007f8f72b000)\n    libdl.so.2 => /lib/aarch64-linux-gnu/libdl.so.2 (0x0000007f8f717000)\n    libelf.so.1 => /lib/aarch64-linux-gnu/libelf.so.1 (0x0000007f8f6ea000)\n    libz.so.1 => /lib/aarch64-linux-gnu/libz.so.1 (0x0000007f8f6c0000)\n    libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000007f8f54d000)\n    /lib/ld-linux-aarch64.so.1 (0x0000007f8f874000)\n    liblzma.so.5 => /lib/aarch64-linux-gnu/liblzma.so.5 (0x0000007f8f519000)\n    libbz2.so.1.0 => /lib/aarch64-linux-gnu/libbz2.so.1.0 (0x0000007f8f4f8000)\n")),(0,l.kt)("p",null,"\u4e09\u3001\u5236\u4f5c\u542f\u52a8\u7b2c\u4e8c\u5185\u6838\u7684\u6587\u4ef6\u7cfb\u7edf\n\u4f7f\u7528\u5c06kexec\u3001vmcore-dmesg\u3001makedumpfile\u4e09\u4e2a\u5de5\u5177\u548c\u4f9d\u8d56\u5e93\u79fb\u690d\u5b8c\u6210\u7684\u6587\u4ef6\u7cfb\u7edf\u6bd4\u5982"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"cd ram\nls\n\nata2  dev  firmware  home  lib      mnt  proc     root  sbin  ssd   sys  usr\nbin   etc  flashDev  init  linuxrc  opt  ramDisk  run   srv   stop  tmp  var\n")),(0,l.kt)("p",null,"\u5728\u6587\u4ef6\u7cfb\u7edf\u6240\u5728\u7684\u76ee\u5f55\u6267\u884c\u5982\u4e0b\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"sudo find . | cpio -o -H newc > ../test.cpio\nsudo gzip -9 < ../test.cpio > ../test.cpio.gz\n")),(0,l.kt)("p",null,"\u56db\u3001\u7f16\u5199\u811a\u672c\n\u7f16\u5199kexec.sh\u811a\u672c\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\u53ef\u4ee5\u89e6\u53d1\u542f\u52a8\u7b2c\u4e8c\u5185\u6838\u3002\u8be5\u811a\u672c\u5728\u6b63\u5e38\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u90e8\u7f72"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'#!/bin/bash\nkexec -p /root/Image-smarc-rzg2l.bin --initrd=test.cpio.gz --append="root=/dev/mmcblk1p1 debug"\ncat /sys/kernel/kexec_crash_size\ncat /sys/kernel/kexec_crash_loaded\n')),(0,l.kt)("p",null,"\u5176\u4e2dImage-smarc-rzg2l.bin\u662f\u6b65\u9aa4\u4e00\u5185\u6838\u9009\u578b\u652f\u6301\u7f16\u8bd1\u51fa\u6765\u7684\u5185\u6838\u548c\u8bbe\u5907\u6811\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'kexec -p /root/Image-smarc-rzg2l.bin --initrd=test.cpio.gz --append="root=/dev/mmcblk1p1 debug"\n')),(0,l.kt)("p",null,"-p\u200b\u200b\uff1a\u6307\u5b9a\u52a0\u8f7d\u7684\u5185\u6838\u7528\u4e8e\u5d29\u6e83\u8f6c\u50a8\uff08\u4e0e -l\u4e0d\u540c\uff0c-p\u4e13\u4e3a kdump \u573a\u666f\u8bbe\u8ba1\uff09/root/Image-smarc-rzg2l.bin\u200b\u200b\uff1a\u76ee\u6807\u5185\u6838\u955c\u50cf\u6587\u4ef6\uff08\u9700\u4e0e\u5f53\u524d\u8fd0\u884c\u5185\u6838\u67b6\u6784\u5339\u914d\uff0c\u5982 ARM64\uff09\u3002\n\u200b--initrd=test.cpio.gz\u200b\u200b\uff1a\u6307\u5b9a\u521d\u59cb RAM \u78c1\u76d8\uff08initrd\uff09\uff0c\u901a\u5e38\u5305\u542b\u6355\u83b7\u5185\u6838\u6240\u9700\u7684\u9a71\u52a8\u548c\u5de5\u5177\uff08\u5982 makedumpfile\uff09\n\u200b--append\u200b\u200b\uff1a\u4f20\u9012\u5185\u6838\u542f\u52a8\u53c2\u6570\uff0c\u4f8b\u5982\uff1aroot=/dev/mmcblk1p1\uff1a\u6307\u5b9a\u6839\u6587\u4ef6\u7cfb\u7edf\u8bbe\u5907\u3002debug\uff1a\u542f\u7528\u5185\u6838\u8c03\u8bd5\u8f93\u51fa"),(0,l.kt)("p",null,"\u7f16\u5199vmcore.sh\u811a\u672c\uff0c\u8be5\u811a\u672c\u7528\u4e8e\u751f\u6210vmcore\u6587\u4ef6\u3002\u8be5\u811a\u672c\u5728\u7b2c\u4e8c\u5185\u6838\u542f\u52a8\u540e\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u4f7f\u7528\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"#!/bin/bash\n\n/etc/init.d/haveged restart\n/etc/init.d/ssh restart\n\nvmcore-dmesg /proc/vmcore > vdmesg-test.txt\n\nmakedumpfile -l --message-level 1 -d 31 /proc/vmcore vmcore-test\n\n\n\nscp vmcore-test kylin@172.30.192.248:/home/kylin/test/kdump\nscp vdmesg-test.txt kylin@172.30.192.248:/home/kylin/test/kdump\n\u200b\n")),(0,l.kt)("p",null,"vmcore-dmesg /proc/vmcore > vdmesg-test.txt\nvmcore-dmesg\uff1a\u7528\u4e8e\u4ece\u5185\u6838\u5d29\u6e83\u8f6c\u50a8\u6587\u4ef6\uff08/proc/vmcore\uff09\u4e2d\u63d0\u53d6\u5185\u6838\u65e5\u5fd7\uff08dmesg\uff09\u7684\u5de5\u5177\u3002\n/proc/vmcore\uff1a\u662f\u5185\u6838\u5d29\u6e83\u65f6\u751f\u6210\u7684\u8f6c\u50a8\u6587\u4ef6\uff0c\u5305\u542b\u5d29\u6e83\u65f6\u7684\u5185\u5b58\u72b6\u6001\u548c\u5185\u6838\u65e5\u5fd7\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"vdmesg-test.txt\uff1a\u5c06\u63d0\u53d6\u7684\u65e5\u5fd7\u91cd\u5b9a\u5411\u5230vdmesg-test.txt\u6587\u4ef6\u4e2d\u3002\n\u200b\nmakedumpfile -l --message-level 1 -d 31 /proc/vmcore vmcore-test\n-l\uff1a\u4f7f\u7528LZO\u538b\u7f29\u7b97\u6cd5\u538b\u7f29\u8f6c\u50a8\u6570\u636e\uff08\u9700\u7f16\u8bd1\u65f6\u542f\u7528USELZO=on\uff09\u3002\n--message-level 1\uff1a\u9650\u5236\u8f93\u51fa\u6d88\u606f\u7ea7\u522b\u4e3a1\uff08\u4ec5\u663e\u793a\u5173\u952e\u9519\u8bef\u4fe1\u606f\uff09\u3002\n-d 31\uff1a\u6307\u5b9a\u8f6c\u50a8\u7ea7\u522b\u4e3a31\uff0c\u6392\u9664\u4ee5\u4e0b\u9875\u9762\u7c7b\u578b\uff1a\n1\uff08\u586b\u96f6\u9875\u9762\uff09\n2\uff08\u975e\u79c1\u6709\u7f13\u5b58\u9875\u9762\uff09\n4\uff08\u6240\u6709\u7f13\u5b58\u9875\u9762\uff09\n8\uff08\u7528\u6237\u8fdb\u7a0b\u6570\u636e\u9875\u9762\uff09\n16\uff08\u7a7a\u95f2\u9875\u9762\uff09\n/proc/vmcore\uff1a\u8f93\u5165\u6587\u4ef6\uff0c\u5373\u5d29\u6e83\u5185\u6838\u7684\u5185\u5b58\u6620\u50cf\u3002\nvmcore-test\uff1a\u8f93\u51fa\u6587\u4ef6\uff0c\u751f\u6210\u538b\u7f29\u540e\u7684\u8f6c\u50a8\u6587\u4ef6\u3002")),(0,l.kt)("p",null,"\u4e94\u3001\u6d4b\u8bd5\n1\u3001\u91cd\u542f\u8bbe\u7f6euboot\u7684bootargs\u53c2\u6570\uff0c\u52a0\u5165crashkernel=512M"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"root=/dev/mmcblk1p1  rootwait rw isolcpus=1 nohz_full=1 crashkernel=512M\n")),(0,l.kt)("p",null,"2\u3001\u66ff\u6362\u7b2c\u4e00\u6b65\u7f16\u8bd1\u7684\u7f16\u8bd1\u6210\u65b0\u7684\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u4f5c\u4e3a\u9ed8\u8ba4\u5185\u6838\u548c\u8bbe\u5907\u6811\u542f\u52a8\uff0c\u7136\u540e\u542f\u52a8\u6587\u4ef6\u7cfb\u7edf\n3\u3001\u5c06\u7b2c\u4e09\u6b65\u5236\u4f5c\u542f\u52a8\u7b2c\u4e8c\u5185\u6838\u7684\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c\u7684test.cpio.gz\u548c\u7b2c\u56db\u90e8\u7f16\u5199\u7684kexec.sh\u811a\u672c\u62f7\u8d1d\u5230\uff0c\u6587\u4ef6\u7cfb\u7edf\u5185"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ls kdump\nImage-smarc-rzg2l.bin              kexec.sh          Image-r9a07g044l2-smarc.dtb         test.cpio.gz\n")),(0,l.kt)("p",null,"\u6267\u884ckexec.sh"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"./kexec.sh\n\n./kexec.sh \n536870912\n1\n")),(0,l.kt)("p",null,"4\u3001\u89e6\u53d1kdump\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"echo c > /proc/sysrq-trigger\n")),(0,l.kt)("p",null,"\u89e6\u53d1\u542f\u52a8\u7b2c\u4e8c\u5185\u6838\u65e5\u5fd7\u5982\u4e0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"echo c > /proc/sysrq-trigger                                     \n[   39.750075] sysrq: SysRq : Trigger a crash                                                \n[   39.754270] Unable to handle kernel NULL pointer dereference at virtual address 0000000000\n[   39.763050] Mem abort info:                                                               \n[   39.765839]   ESR = 0x96000046                                                            \n[   39.768889]   Exception class = DABT (current EL), IL = 32 bits                           \n[   39.774803]   SET = 0, FnV = 0                                                            \n[   39.777852]   EA = 0, S1PTW = 0                                                           \n[   39.780986] Data abort info:                                                              \n[   39.783860]   ISV = 0, ISS = 0x00000046                                                   \n[   39.787689]   CM = 0, WnR = 1                                                             \n[   39.790647] user pgtable: 4k pages, 48-bit VAs, pgdp = 0000000004c0b539                   \n[   39.797254] [0000000000000000] pgd=00000021744ac003, pud=0000002175db3003, pmd=00000000000\n[   39.805952] Internal error: Oops: 96000046 [#1] PREEMPT SMP                               \n[   39.811514] Modules linked in:                                                            \n[   39.814559] CPU: 3 PID: 2183 Comm: sh Kdump: loaded Not tainted 4.19.90-g79148c6d4-dirty 2\n[   39.822986] Hardware name: FT-2000/4-D4-DSK Development Board (DT)                        \n[   39.829155] pstate: 60000005 (nZCv daif -PAN -UAO)                                        \n[   39.833938] pc : sysrq_handle_crash+0x28/0x38                                             \n[   39.838283] lr : sysrq_handle_crash+0x14/0x38                                             \n[   39.842628] sp : ffff00000f983c50                                                         \n[   39.845931] x29: ffff00000f983c50 x28: ffff8020f1fe5280                                   \n[   39.851234] x27: 0000000000000000 x26: 0000000000000000                                   \n[   39.856536] x25: 0000000056000000 x24: ffff00000a0af000                                   \n[   39.861837] x23: 0000000000000000 x22: 0000000000000007                                   \n[   39.867139] x21: ffff00000a0afa38 x20: 0000000000000063                                   \n[   39.872441] x19: ffff000009f4f000 x18: ffffffffffffffff                                   \n[   39.877742] x17: 0000000000000000 x16: 0000000000000000                                   \n[   39.883044] x15: ffff000009f2a788 x14: ffff00008a1a753f                                   \n[   39.888345] x13: ffff00000a1a754d x12: ffff000009f4f000                                   \n[   39.893647] x11: 0000000005f5e0ff x10: ffff000009f2a9e8                                   \n[   39.898949] x9 : ffff000008931bc0 x8 : 6120726567676972                                   \n[   39.904250] x7 : 54203a2071527379 x6 : 0000000000000397                                   \n[   39.909552] x5 : 0000000000000000 x4 : ffff8020f1fe5280                                   \n[   39.914854] x3 : ffff000009f2b000 x2 : 38d1cde1282e1e00                                   \n[   39.920155] x1 : 0000000000000001 x0 : 0000000000000000                                   \n[   39.925457] Process sh (pid: 2183, stack limit = 0x0000000097ef60d4)                      \n[   39.931799] Call trace:                                                                   \n[   39.934235]  sysrq_handle_crash+0x28/0x38                                                 \n[   39.938233]  __handle_sysrq+0xb0/0x1a8                                                    \n[   39.941971]  write_sysrq_trigger+0x70/0x88                                                \n[   39.946058]  proc_reg_write+0x80/0xd8                                                     \n[   39.949710]  __vfs_write+0x60/0x180                                                       \n[   39.953187]  vfs_write+0xac/0x1c0                                                         \n[   39.956491]  ksys_write+0x6c/0xd8                                                         \n[   39.959794]  __arm64_sys_write+0x24/0x30                                                  \n[   39.963707]  el0_svc_common+0x7c/0x118                                                    \n[   39.967444]  el0_svc_handler+0x38/0x78                                                    \n[   39.971182]  el0_svc+0x8/0xc                                                              \n[   39.974052] Code: 52800021 b903c001 d5033e9f d2800000 (39000001)                          \n[   39.980139] SMP: stopping secondary CPUs                                                  \nNNNOOOTTTIIICCCEEE:::      SSSttta[daddSSrri1c   atl:0088000a022u                            \n kIrE: .ft2                                                                                  \n           04_pwr_domain_off                                                                 \nNOTICE:  [CLUST_PSOCFG_REG]= 50                                                              \nNOTICE:  ft2004_pwr_domr_dooff                                                               \npwrICE: _[CLUSNOTSOE:G_REG]= fi_e                                                            \n                                 NOTI E:  ft2004_pwr_domain_off                              \nNOTICE:  [CLUST_PSOCFG_REG]= 53                                                              \nNOTICE:  power off cluster, CLUST_PSOCFG_REG = 0x53.                                         \nNOTICE:  ft2004_psci_pwr_domain_pwr_down_wfi                                                 \nNOTICE:  scpi_wfi_enalbe                                                                     \n[   40.018025] Bye! \n")),(0,l.kt)("p",null,"5\u3001\u7b2c\u4e8c\u5185\u6838\u542f\u52a8\u540e\u751f\u6210vmcore\n\u8fdb\u5165\u7b2c\u4e8c\u5185\u6838\u542f\u52a8\u7684\u7cfb\u7edf\u540e\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"./vmcore.sh\n")),(0,l.kt)("p",null,"\u5c06\u751f\u6210\u5982\u4e0b\u6587\u4ef6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"vdmesg-test.txt  vmcore-test\n")),(0,l.kt)("p",null,"\u5c06\u8fd9\u4e24\u4e2a\u6587\u4ef6\u5bfc\u51fa\u5373\u53ef\uff0c\u6700\u597d\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u51fa\u6765\n\u516d\u3001\u5e38\u89c1\u95ee\u9898\n6.1 \u95ee\u9898\uff1avmcore-dmesg /proc/vmcore \u62a5\u9519No program header covering vaddr 0xffff800010ee29f0found kexec bug?\n\u89e3\u51b3\u65b9\u6cd5\uff1a\u5efa\u8bae\u5c06kexec-tools\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c"),(0,l.kt)("p",null,"6.2 \u95ee\u9898\uff1a\u4f7f\u7528crash\u5de5\u5177\u62a5\u9519\ngdb called without error_hook: Dwarf Error: wrong version in compilation unit header (is 0, should be 2, 3, or 4) ","[in module /home/rlk/szf/rzg/kernel-source/vmlinux]","\nDwarf Error: wrong version in compilation unit header (is 0, should be 2, 3, or 4) ","[in module /home/rlk/szf/rzg/kernel-source/vmlinux]"),(0,l.kt)("p",null,"crash: kernel-source/vmlinux: no debugging data available\n\u89e3\u51b3\u65b9\u6cd5\uff1agcc\u7248\u672c\u898110\u4ee5\u4e0b"))}d.isMDXComponent=!0}}]);